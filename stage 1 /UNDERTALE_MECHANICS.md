# Undertale Mechanics in Stage 1

## Overview
Stage 1 now features Undertale-inspired turn-based combat mechanics! When you encounter an enemy, you'll enter a special battle mode with unique gameplay elements.

## How It Works

### Battle Transition
- Walk into any enemy in the overworld to trigger an Undertale-style battle
- The screen transitions to a black background with a white battle box
- Your character becomes a red heart/soul that you control

### Battle Menu (4 Options)
Navigate with **LEFT/RIGHT arrow keys** or **A/D**, select with **SPACE/ENTER**:

1. **ATTACK** - Deal 5-15 damage to the enemy
2. **TALK** - Show mercy, talk to the enemy (builds mercy points)
3. **HEAL** - Heal yourself by 5 HP (if not at max)
4. **SPARE** - Spare the enemy (only works if they have enough mercy points)

### Bullet Hell Defense Phase
- After each action, the enemy attacks with bullet patterns
- Control your red soul/heart with **ARROW KEYS** or **WASD**
- Dodge enemy bullets for 3 seconds (reduced for better pacing)
- Getting hit reduces your HP by 1

### Special Bullet Types

#### White Bullets
- Standard bullets that always damage on contact

#### Blue Bullets (Patience)
- Only damage you if you're **moving** when they hit
- Stay still to pass through them safely
- Colored light blue

#### Orange Bullets (Bravery)
- Only damage you if you're **not moving** when they hit
- Keep moving to pass through them safely
- Colored orange

### Mercy System
- Use **TALK** to build mercy points with enemies
- When an enemy has enough mercy (100+ points), you can **SPARE** them
- Sparing gives bonus score points (5 instead of 3)
- Some enemies become more willing to be spared when damaged

### Story Mode Features
- **Limited encounters**: Only 10 stationary enemies in story mode
- **Peaceful exploration**: Enemies don't chase you aggressively
- **Meaningful completion**: Deep reflection message when all enemies are dealt with
- **Choice emphasis**: Focus on compassion and understanding over combat
- **Philosophical journey**: Experience thoughtful gameplay that makes you reflect

### Enemy Types
Random enemies with different names and HP:
- **Skeleton** - Undead warrior with bone attacks
- **Bat** - Flying creature with swift movements
- **Blob** - Gelatinous creature that splits and reforms
- **Spider** - Web-spinning arachnid with poison attacks

### Attack Patterns
1. **Side Waves** - Bullets come from left and right sides
2. **Circular Burst** - Blue bullets spread in all directions
3. **Mixed Pattern** - Combination of blue and orange bullets
4. **Bone Throw** - Skeleton-specific white bullet barrage
5. **Wing Flap** - Bat creates swooping bullet patterns

### Victory Conditions
- **Defeat**: Reduce enemy HP to 0 (3 score points)
- **Mercy**: Spare enemy with enough mercy points (5 score points)
- **Story Completion**: Complete story mode for deep philosophical message
- **Death**: If your HP reaches 0, game over

### Game Modes

#### Story Mode
- **Access**: Talk to the Story Guide behind the player spawn
- **Philosophy**: A thoughtful journey about choices and consequences
- **Features**: 10 stationary enemies, peaceful exploration, meaningful ending
- **Message**: Deep reflection on compassion vs conflict

#### Survival Mode  
- **Access**: Talk to the Combat Instructor left of player spawn
- **Action**: Fast-paced survival with aggressive enemies
- **Features**: Unlimited moving enemies, score-based gameplay
- **Goal**: Survive as long as possible and achieve high scores

### Controls Summary
**Overworld:**
- Arrow keys/WASD: Move player
- Mouse: Aim and shoot
- Space: Interact with NPCs

**Battle Mode:**
- Arrow keys/WASD: Move soul in battle box
- Left/Right: Navigate menu
- Space/Enter: Select menu option
- Soul movement: Dodge bullets

### Pro Tips
1. **Blue bullets**: Stop moving when they approach
2. **Orange bullets**: Keep moving when they approach  
3. **Mercy path**: Use TALK repeatedly, then SPARE when available
4. **Healing**: Use HEAL when your HP gets low
5. **Mixed patterns**: Pay attention to bullet colors!
6. **Story mode**: Experience thoughtful gameplay with stationary enemies
7. **Completion**: Finish story mode for meaningful reflection
8. **NPC choice**: Story Guide for philosophy, Combat Instructor for action

### Character Guide

#### Story Guide
- **Purpose**: Guides players through meaningful story experiences
- **Philosophy**: "Sometimes the greatest victory is choosing not to fight at all"
- **Gameplay**: Introduces story mode with stationary enemies and deep messages

#### Combat Instructor
- **Purpose**: Challenges players with intense survival combat
- **Philosophy**: "Prove your skills through relentless battle"
- **Gameplay**: Introduces survival mode with aggressive moving enemies

## Technical Features
- Turn-based menu system like Undertale
- Precise hitbox collision (small soul hitbox)
- Multiple attack patterns with different bullet behaviors
- Dialogue system with enemy-specific text
- HP management for both player and enemies
- Invulnerability frames after taking damage
- Score bonuses for merciful gameplay
- Dual game modes with different philosophies
- Cross-stage character integration

## Story Philosophy
The Undertale mechanics aren't just about combat - they're about **choice**. Every encounter asks you:
- Will you choose violence or understanding?
- Can you find compassion even for those who seem hostile?
- What does it mean to truly "win" a conflict?

The story mode especially emphasizes these themes, creating moments of reflection that stay with you long after playing.

Enjoy the unique blend of exploration, combat, and meaningful storytelling!
